!function(){"use strict";var t={17:function(t,e,n){t.exports=n.p+"5bb6a7c331425e1064ce.png"},136:function(t,e,n){t.exports=n.p+"e95f659b81629e68533f.png"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.p="",function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function o(e,n,r){return(n=function(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function(t,e){return[].concat(i(t.map((function(t){return r({},t)}))),i(e.map((function(t){return r({},t)}))))},c=function(t){return document[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"querySelector"](t)},s=function(t){return"function"==typeof t&&t()},l=function(t,e,n){return s(n),e.style.display=t},p=function(t,e){return e.classList.contains(t)},f=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t.animate([{opacity:e},{opacity:n}],{duration:r,easing:"ease-in-out"}).onfinish=function(){o&&t.remove()}},m=function(t,e){for(var n in e)t.setAttribute(n,e[n])},d=function(t){return t.startsWith(".")},y=function(t){return function(){return d(t)?t.slice(1):t}},b=function(t,e){return e.closest((n=t,function(){return d(n)?n:"."+n})());var n},v=function(t,e){return p(t,e)&&b(y(t)(),e)},_=function(t,e,n){return n.addEventListener(t,e)},h=function(t,e){var n=t[e.target.id];n&&n(e)},g=function(t,e,n){return{formSelector:t,inputSelector:e,submitButtonSelector:n,inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"}};function w(t){return function(t){if(Array.isArray(t))return S(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var P={openPopupProfile:"popup__opened",popupProfile:c("#popup"),popupProfileForm:c(".popup__form"),nameInputProfile:c(".popup__input_type_name"),jobInputProfile:c(".popup__input_type_job"),nameOutputProfile:c(".header__title"),jobOutputProfile:c(".header__subtitle"),btnSubmitProfile:c(".popup__button"),btnCloseProfile:c(".popup__closed-btn"),btnEditProfile:c(".button-edit")},O=P.popupProfileForm,j=P.nameInputProfile,E=P.jobInputProfile,C=P.nameOutputProfile,I=P.jobOutputProfile,k=[{name:C.textContent,job:I.textContent}],L=[],T=u(L,k),A={openPopupCardAdd:"popup_card-add__opened",popupCardAdd:c("#popup_card-add"),popupCardAddForm:c("#popup__form_card-add"),popupCardAddButtonSubmit:c("#popup__button_card-add"),placeInputCardAdd:c(".popup__input_type_place"),imgLinkInputCardAdd:c(".popup__input_type_img-link")},D=A.popupCardAddForm,F=A.placeInputCardAdd,R=A.imgLinkInputCardAdd,B=[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_yosemite.jpg",alt:"Imagem do vale de Yosemite com um rio, árvores, montanhas ao fundo e muita natureza"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_lake-louise.jpg",alt:"Imagem do Lago Louise com montanhas ao fundo e natureza exuberante"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_bald-mountains.jpg",alt:"Imagem das Montanhas Carecas, vegetação com árvores e ao fundo o pör do sol"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_latemar.jpg",alt:"Imagem do vale de Latemar, montanhas ao fundo e céu estrelado"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_vanoise.jpg",alt:"Imagem do Parque Nacional Vanoise com Lago, montanhas ao fundo e natureza belissima"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/web-code/moved_lago.jpg",alt:"Imagem do Lago di Braies com um deck, barcos ancorados, montanhas ao fundo e natureza preservada"}],W=[],M=u(W,B).slice().reverse(),x=n(136),V=n(17),U={openPopupCardImg:"img-popup-card__opened",popupCardImgOpen:c("#img-popup-card"),popupCardImg:c(".img-popup-card__image"),popupCardName:c(".img-popup-card__title")},N=U.popupCardImg,q=U.popupCardName;function z(t){return z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function $(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H(r.key),r)}}function G(t,e,n){return(e=H(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H(t){var e=function(t,e){if("object"!==z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===z(e)?e:String(e)}var Y=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),G(this,"_createCallbackAddDisplay",(function(){return function(){return function(t,e){return e.classList.add(t)}(n._openedClassName,n._popupElement)}})),G(this,"_createCallbackRemoveDisplay",(function(){return function(){!function(t,e){e.classList.remove(t)}(n._openedClassName,n._popupElement)}})),G(this,"_handleEscClose",(function(){var t;_("keydown",(t=n._createCallbackRemoveDisplay(),function(e){return"Escape"===e.key?s(t):null}),document)})),G(this,"_handleOutsideClickClose",(function(){var t,e;_("mousedown",(t=n._popupElementWithoutDot,e=n._createCallbackRemoveDisplay(),function(n){return v(t,n.target)?s(e):null}),n._popupElement)})),G(this,"open",(function(){return function(){!function(t,e,n){var r=p(t,e);l(r?"null":"block",e,n)}(n._openedClassName,n._popupElement,n._createCallbackAddDisplay())}})),G(this,"close",(function(){return function(){!function(t,e,n){var r=p(t,e);l(r?"hidden":"null",e,n)}(n._openedClassName,n._popupElement,n._createCallbackRemoveDisplay())}})),G(this,"setEventListeners",(function(){n._handleEscClose(),n._handleOutsideClickClose(),n._getCloseButtonsAndAddEventListener()})),this._popupElement=c(e),this._popupElementWithoutDot=y(e)(),this._openedClassName="".concat(this._popupElementWithoutDot,"__opened"),this._closeButtons=Array.from(c('[id$="__closed-btn"]',"querySelectorAll"))}var e,n;return e=t,(n=[{key:"_getCloseButtonsAndAddEventListener",value:function(){var t=this;this._closeButtons.forEach((function(e){_("mousedown",(function(){t.close()()}),e)}))}}])&&$(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===J(o)?o:String(o)),r)}var o}function Q(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function X(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var Z=new WeakSet,tt=new WeakSet,et=new WeakSet,nt=new WeakSet,rt=new WeakSet,ot=new WeakSet,it=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Q(this,ot),Q(this,rt),Q(this,nt),Q(this,et),Q(this,tt),Q(this,Z),this._validationConfig=e,this._formElement=n,this._PT_BR_ERROR_MESSAGES={valueMissing:"Este campo é obrigatório.",typeMismatch:{email:"Por favor, informe um endereço de e-mail válido.",url:"Por favor, informe uma URL válida."},tooShort:"Por favor, informe pelo menos {minLength} caracteres.",tooLong:"Por favor, informe no máximo {maxLength} caracteres.",patternMismatch:"Por favor, preencha este campo corretamente."}}var e,n;return e=t,(n=[{key:"enableValidation",value:function(){var t=this,e=Array.from(this._formElement.querySelectorAll(".popup__input")),n=this._formElement.querySelector(".popup__button");this._formElement.addEventListener("submit",(function(t){t.preventDefault()})),X(this,rt,lt).call(this,e,n),e.forEach((function(e){X(t,ot,pt).call(t,e)}))}}])&&K(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function at(t,e){var n=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._validationConfig.inputErrorClass),n.classList.add(this._validationConfig.errorClass);var r=t.validationMessage,o=this._PT_BR_ERROR_MESSAGES[r]||e;n.textContent=o}function ut(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));e&&(t.classList.remove(this._validationConfig.inputErrorClass),e.classList.remove(this._validationConfig.errorClass),e.textContent="")}function ct(t){t.validity.valid?X(this,tt,ut).call(this,t):X(this,Z,at).call(this,t,t.validationMessage)}function st(t){return t.some((function(t){return!t.validity.valid}))}function lt(t,e){X(this,nt,st).call(this,t)?e.classList.add(this._validationConfig.inactiveButtonClass):e.classList.remove(this._validationConfig.inactiveButtonClass)}function pt(){var t=this,e=Array.from(this._formElement.querySelectorAll(this._validationConfig.inputSelector)),n=this._formElement.querySelector(this._validationConfig.submitButtonSelector);X(this,rt,lt).call(this,e,n),e.forEach((function(r){r.addEventListener("input",(function(){X(t,et,ct).call(t,r),X(t,rt,lt).call(t,e,n)}))}))}function ft(t){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ft(t)}function mt(t,e){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},mt(t,e)}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yt(t){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},yt(t)}function bt(t,e,n){return(e=vt(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vt(t){var e=function(t,e){if("object"!==ft(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ft(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ft(e)?e:String(e)}var _t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=yt(n);if(r){var o=yt(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ft(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}(this,t)});function i(t){var e,n=t.nameSelector,r=t.jobSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),bt(dt(e=o.call(this,".popup")),"_getUserInfo",(function(t){t.preventDefault(),e._name.placeholder="Insira o Nome do Usuário",e._job.placeholder="Insira a sua Profissão",e._open(),O.reset(),e._formValidatorUserInfo.enableValidation()})),bt(dt(e),"_setUserInfo",(function(t){t.preventDefault();var n,r=e._name.value,o=e._job.value;r&&o&&((n=function(t,e){return t&&e&&!T.some((function(e){return e.name===t}))?{name:t,job:e}:null}(r,o))&&(L=[n].concat(w(L)),T=u(L,k)),e._close(),C.textContent=r,I.textContent=o,O.reset(),e._formValidatorUserInfo.enableValidation())})),bt(dt(e),"_getButtonsForFunctionsUserInfo",(function(){return{"button-edit":e._getUserInfo,popup__button:e._setUserInfo}})),bt(dt(e),"_handleButtonsForFunctionsUserInfo",(function(t){return h(e._getButtonsForFunctionsUserInfo(),t)})),bt(dt(e),"setEventListenersUserInfoToDOM",(function(){e._open(),e._close(),e._setEventListeners,_("click",e._handleButtonsForFunctionsUserInfo,document)})),e._name=n,e._job=r,e._open=e.open(),e._close=e.close(),e._setEventListeners=e.setEventListeners();var a=g(O,".popup__input",".popup__button");return e._formValidatorUserInfo=new it(a,O),e._formValidatorUserInfo.enableValidation(),e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Y);function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function gt(t,e){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},gt(t,e)}function wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function St(t){return St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},St(t)}function Pt(t){var e=function(t,e){if("object"!==ht(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===ht(e)?e:String(e)}var Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=St(n);if(r){var o=St(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return wt(t)}(this,t)});function i(){var t,e,n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),e=wt(t=o.call(this,".img-popup-card")),r=function(){t._setEventListeners},(n=Pt(n="setEventListenersPopupWithImageToDOM"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,t._setEventListeners=t.setEventListeners(),t._setEventListenerCard=It.prototype.setEventListenerFromPopupWithImage,t.open=t.open(),t}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Y);function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ct(r.key),r)}}function Ct(t){var e=function(t,e){if("object"!==jt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===jt(e)?e:String(e)}var It=function(){function t(e,n){var r,o,i,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,i=function(){_("mousedown",a._handleHeartCardLike,a._cardsSection),_("mousedown",a._handleCardDelete,a._cardsSection)},(o=Ct(o="addEventsCardsToDOM"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,this._data=e,this._templateSelector=n,this._cardElement=this._getTemplate(),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardsSection=c(".cards"),this._popupWithImage=new Ot,this.setEventListenerFromPopupWithImage()}var e,n,r;return e=t,r=[{key:"_renderCards",value:function(e){var n=this;return this._templateSelector="#cards-template",e.map((function(e){return n._newCardInstance=new t(e,n._templateSelector),n._newCardInstance.generateInstanceCard()}))}},{key:"addNewCardToDOM",value:function(){this._cardsSection=c(".cards"),this._newCardToDOM=this._renderCards(M)[0],this._cardsSection.insertBefore(this._newCardToDOM,this._cardsSection.firstChild),f(this._newCardToDOM,0,1,400)}}],(n=[{key:"_getTemplate",value:function(){return c(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_handleHeartCardLike",value:function(t){!function(t,e,n,r,o,i){if(v(e,t.target)){var a=b(e,t.target),u="true"===a.getAttribute("data-active");a.setAttribute("data-active",!u),m(a,u?{src:r,alt:"Icon de coração desativado apenas com bordas"}:{src:n,alt:"Icon de coração ativado com preenchimento"}),f(a,0,1,400)}}(t,"button-heart-icon",x,V)}},{key:"_handleCardDelete",value:function(t){!function(t,e,n){if(v("button-trash-icon",t.target)){var r=b("card",t.target);f(r,1,0,400,!0)}}(t)}},{key:"generateInstanceCard",value:function(){return m(this._cardImage,{src:this._data.link,alt:"Imagem de ".concat(this._data.name)}),this._cardTitle.textContent=this._data.name,this._cardElement}},{key:"setEventListenerFromPopupWithImage",value:function(){var t=this;_("mousedown",(function(){return t._popupWithImage.open()}),this._cardImage),N.src=this._data.link,q.textContent=this._data.name}}])&&Et(e.prototype,n),r&&Et(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function kt(t){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kt(t)}function Lt(t,e){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Lt(t,e)}function Tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function At(t){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},At(t)}function Dt(t,e,n){return(e=Ft(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ft(t){var e=function(t,e){if("object"!==kt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===kt(e)?e:String(e)}var Rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Lt(t,e)}(i,t);var e,n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=At(n);if(r){var o=At(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===kt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tt(t)}(this,t)});function i(t){var e,n=t.nameSelector,r=t.linkSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Dt(Tt(e=o.call(this,".popup_card-add")),"_getInputValues",(function(t){t.preventDefault(),F.placeholder="Insira o Nome do Local",R.placeholder="Insira o URL da Imagem",e._open(),D.reset(),e._formValidatorPopupWithForm.enableValidation()})),Dt(Tt(e),"_setInputValues",(function(t){t.preventDefault();var n=F.value,r=R.value;n&&r&&(function(t,e){var n=function(t,e){return t&&e?{name:t,link:e,alt:"Imagem de ".concat(t)}:null}(t,e);n&&(W=[n].concat(w(W)),M=u(W,B))}(n,r),It.addNewCardToDOM(),e._close(),D.reset(),e._formValidatorPopupWithForm.enableValidation())})),Dt(Tt(e),"_getButtonsForFunctionsPopupWithForm",(function(){return{"button-add":e._getInputValues,"popup__button_card-add":e._setInputValues}})),Dt(Tt(e),"_handleButtonsForFunctionsPopupWithForm",(function(t){return h(e._getButtonsForFunctionsPopupWithForm(),t)})),Dt(Tt(e),"setEventListenersPopupWithFormToDOM",(function(){e._open(),e._close(),e._setEventListeners,_("click",e._handleButtonsForFunctionsPopupWithForm,document)})),e._name=n,e._link=r,e._open=e.open(),e._close=e.close(),e._setEventListeners=e.setEventListeners();var a=g(D,".popup__input",".popup__button");return e._formValidatorPopupWithForm=new it(a,D),e._formValidatorPopupWithForm.enableValidation(),e}return e=i,Object.defineProperty(e,"prototype",{writable:!1}),e}(Y);function Bt(t){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bt(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==Bt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==Bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===Bt(o)?o:String(o)),r)}var o}var Mt=function(){function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._container=c(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&Wt(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),xt=new _t({nameSelector:j,jobSelector:E}),Vt=new Rt({nameSelector:F,jobSelector:R}),Ut=new Ot,Nt=new Mt({items:M,renderer:function(t){var e=new It(t,"#cards-template"),n=e.generateInstanceCard();Nt.addItem(n),e.addEventsCardsToDOM()}},".cards");document.addEventListener("DOMContentLoaded",(function(){xt.setEventListenersUserInfoToDOM(),Vt.setEventListenersPopupWithFormToDOM(),Ut.setEventListenersPopupWithImageToDOM(),Nt.renderItems()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDdEMvRCxhQUFjMUYsRUFDZDJGLFlBQWExRixJQUdUK0ssR0FBaUIsSUFBSS9ELEdBRXJCZ0UsR0FBZSxJQUFJWixHQUN2QixDQUNFRSxNQUFPakssRUFDUGtLLFNBQVUsU0FBQ3BDLEdBQ1QsSUFBTThDLEVBQWtCLElBQUkvRCxHQUFLaUIsRUFBTSxtQkFDakMrQyxFQUFjRCxFQUFnQjVDLHVCQUNwQzJDLEdBQWFHLFFBQVFELEdBQ3JCRCxFQUFnQkcscUJBQ2xCLEdBRUYsVUFjRjlQLFNBQVNzQyxpQkFBaUIsb0JBUEYsV0FDdEJpTixHQUFTUSxpQ0FDVFAsR0FBY1Esc0NBQ2RQLEdBQWVRLHVDQU5mUCxHQUFhUSxhQVFmLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9wdGJyL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfcHRici8uL3NyYy91dGlscy9oZWxwZXJzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfcHRici8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9wdGJyLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9wdGJyLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzRfcHRici8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNF9wdGJyLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80X3B0YnIvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGNvbnN0IGdldEFsbEFycnMgPSAobmV3QXJyLCBpbml0aWFsQXJyKSA9PiB7XHJcbiAgcmV0dXJuIFtcclxuICAgIC4uLm5ld0Fyci5tYXAoKGl0ZW0pID0+ICh7IC4uLml0ZW0gfSkpLFxyXG4gICAgLi4uaW5pdGlhbEFyci5tYXAoKGl0ZW0pID0+ICh7IC4uLml0ZW0gfSkpLFxyXG4gIF07XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgZ2V0RWxlbWVudCA9IChzZWxlY3RvciwgbWV0aG9kID0gXCJxdWVyeVNlbGVjdG9yXCIpID0+XHJcbiAgZG9jdW1lbnRbbWV0aG9kXShzZWxlY3Rvcik7XHJcblxyXG5leHBvcnQgY29uc3QgY2FsbElmRnVuY3Rpb24gPSAoY2FsbGJhY2spID0+XHJcbiAgdHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIgJiYgY2FsbGJhY2soKTtcclxuXHJcbmV4cG9ydCBjb25zdCBzdHlsZURpc3BsYXlWYWx1ZSA9IChkaXNwbGF5VmFsdWUsIHRhcmdldEVsZW1lbnQsIGNhbGxiYWNrKSA9PiB7XHJcbiAgY2FsbElmRnVuY3Rpb24oY2FsbGJhY2spO1xyXG4gIGNvbnN0IHN0eWxlID0gdGFyZ2V0RWxlbWVudC5zdHlsZTtcclxuICByZXR1cm4gKHN0eWxlLmRpc3BsYXkgPSBkaXNwbGF5VmFsdWUpO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbnRhaW5zID0gKHRhcmdldENsYXNzTmFtZSwgdGFyZ2V0RWxlbWVudCkgPT5cclxuICB0YXJnZXRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyh0YXJnZXRDbGFzc05hbWUpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHRvZ2dsZVBvcHVwRGlzcGxheSA9IChcclxuICB0YXJnZXRDbGFzc05hbWUsXHJcbiAgdGFyZ2V0RWxlbWVudCxcclxuICBjYWxsYmFja1xyXG4pID0+IHtcclxuICBjb25zdCBpc09wZW4gPSBjb250YWlucyh0YXJnZXRDbGFzc05hbWUsIHRhcmdldEVsZW1lbnQpO1xyXG4gIHN0eWxlRGlzcGxheVZhbHVlKGlzT3BlbiA/IFwiaGlkZGVuXCIgOiBcImJsb2NrXCIsIHRhcmdldEVsZW1lbnQsIGNhbGxiYWNrKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZW1vdmVQb3B1cERpc3BsYXkgPSAoXHJcbiAgdGFyZ2V0Q2xhc3NOYW1lLFxyXG4gIHRhcmdldEVsZW1lbnQsXHJcbiAgY2FsbGJhY2tcclxuKSA9PiB7XHJcbiAgY29uc3QgaXNPcGVuID0gY29udGFpbnModGFyZ2V0Q2xhc3NOYW1lLCB0YXJnZXRFbGVtZW50KTtcclxuICBzdHlsZURpc3BsYXlWYWx1ZShpc09wZW4gPyBcImhpZGRlblwiIDogXCJudWxsXCIsIHRhcmdldEVsZW1lbnQsIGNhbGxiYWNrKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGRQb3B1cERpc3BsYXkgPSAodGFyZ2V0Q2xhc3NOYW1lLCB0YXJnZXRFbGVtZW50LCBjYWxsYmFjaykgPT4ge1xyXG4gIGNvbnN0IGlzT3BlbiA9IGNvbnRhaW5zKHRhcmdldENsYXNzTmFtZSwgdGFyZ2V0RWxlbWVudCk7XHJcbiAgc3R5bGVEaXNwbGF5VmFsdWUoaXNPcGVuID8gXCJudWxsXCIgOiBcImJsb2NrXCIsIHRhcmdldEVsZW1lbnQsIGNhbGxiYWNrKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB0b2dnbGUgPSAodGFyZ2V0Q2xhc3NOYW1lLCB0YXJnZXRFbGVtZW50KSA9PlxyXG4gIHRhcmdldEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSh0YXJnZXRDbGFzc05hbWUpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbW92ZSA9ICh0YXJnZXRDbGFzc05hbWUsIHRhcmdldEVsZW1lbnQpID0+XHJcbiAgdGFyZ2V0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRhcmdldENsYXNzTmFtZSk7XHJcblxyXG5leHBvcnQgY29uc3QgYWRkID0gKHRhcmdldENsYXNzTmFtZSwgdGFyZ2V0RWxlbWVudCkgPT5cclxuICB0YXJnZXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGFyZ2V0Q2xhc3NOYW1lKTtcclxuXHJcbmV4cG9ydCBjb25zdCBhbmltYXRlT3BhY2l0eSA9IChcclxuICB0YXJnZXRFbGVtZW50LFxyXG4gIHN0YXJ0T3BhY2l0eSxcclxuICBlbmRPcGFjaXR5LFxyXG4gIGR1cmF0aW9uLFxyXG4gIHJlbW92ZU9uRmluaXNoID0gZmFsc2VcclxuKSA9PiB7XHJcbiAgdGFyZ2V0RWxlbWVudC5hbmltYXRlKFt7IG9wYWNpdHk6IHN0YXJ0T3BhY2l0eSB9LCB7IG9wYWNpdHk6IGVuZE9wYWNpdHkgfV0sIHtcclxuICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcclxuICAgIGVhc2luZzogXCJlYXNlLWluLW91dFwiLFxyXG4gIH0pLm9uZmluaXNoID0gKCkgPT4ge1xyXG4gICAgaWYgKHJlbW92ZU9uRmluaXNoKSB7XHJcbiAgICAgIHRhcmdldEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBzZXRBdHRyaWJ1dGVzID0gKHRhcmdldEVsZW1lbnQsIGF0dHJpYnV0ZXMpID0+IHtcclxuICBmb3IgKGxldCBhdHRyaWJ1dGUgaW4gYXR0cmlidXRlcykge1xyXG4gICAgdGFyZ2V0RWxlbWVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCBhdHRyaWJ1dGVzW2F0dHJpYnV0ZV0pO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRTdGFydHNXaXRoRG90ID0gKHN0cmluZykgPT4gc3RyaW5nLnN0YXJ0c1dpdGgoXCIuXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbW92ZVN0YXJ0aW5nRG90ID0gKHN0cmluZykgPT4gKCkgPT5cclxuICBnZXRTdGFydHNXaXRoRG90KHN0cmluZykgPyBzdHJpbmcuc2xpY2UoMSkgOiBzdHJpbmc7XHJcblxyXG5leHBvcnQgY29uc3QgYWRkU3RhcnRpbmdEb3QgPSAoc3RyaW5nKSA9PiAoKSA9PlxyXG4gIGdldFN0YXJ0c1dpdGhEb3Qoc3RyaW5nKSA/IHN0cmluZyA6IFwiLlwiICsgc3RyaW5nO1xyXG5cclxuZXhwb3J0IGNvbnN0IGV2dFRhcmdldENsb3Nlc3RFbGVtZW50ID0gKHRhcmdldENsYXNzTmFtZSwgdGFyZ2V0RWxlbWVudCkgPT5cclxuICB0YXJnZXRFbGVtZW50LmNsb3Nlc3QoYWRkU3RhcnRpbmdEb3QodGFyZ2V0Q2xhc3NOYW1lKSgpKTtcclxuXHJcbmV4cG9ydCBjb25zdCBpc1RhcmdldEVsZW1lbnRDbGlja2VkID0gKHRhcmdldENsYXNzTmFtZSwgdGFyZ2V0RWxlbWVudCkgPT5cclxuICBjb250YWlucyh0YXJnZXRDbGFzc05hbWUsIHRhcmdldEVsZW1lbnQpICYmXHJcbiAgZXZ0VGFyZ2V0Q2xvc2VzdEVsZW1lbnQocmVtb3ZlU3RhcnRpbmdEb3QodGFyZ2V0Q2xhc3NOYW1lKSgpLCB0YXJnZXRFbGVtZW50KTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVLZXlQcmVzc0Z1bmN0aW9uID0gKHJlbW92ZVBvcHVwRnVuYykgPT4gKGV2dCkgPT5cclxuICBldnQua2V5ID09PSBcIkVzY2FwZVwiID8gY2FsbElmRnVuY3Rpb24ocmVtb3ZlUG9wdXBGdW5jKSA6IG51bGw7XHJcblxyXG5leHBvcnQgY29uc3QgaGFuZGxlT3V0c2lkZUNsaWNrRnVuY3Rpb24gPVxyXG4gICh0YXJnZXRDbGFzc05hbWUsIHJlbW92ZVBvcHVwRnVuYykgPT4gKGV2dCkgPT5cclxuICAgIGlzVGFyZ2V0RWxlbWVudENsaWNrZWQodGFyZ2V0Q2xhc3NOYW1lLCBldnQudGFyZ2V0KVxyXG4gICAgICA/IGNhbGxJZkZ1bmN0aW9uKHJlbW92ZVBvcHVwRnVuYylcclxuICAgICAgOiBudWxsO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZEV2ZW50VG9ET00gPSAoZXZ0LCBoYW5kbGVyLCB0YXJnZXRFbGVtZW50KSA9PlxyXG4gIHRhcmdldEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGhhbmRsZXIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZEV2dEJ1dHRvbnNGb3JGdW5jdGlvbnMgPSAoYnV0dG9uRnVuY3Rpb25zLCBldnQpID0+IHtcclxuICBjb25zdCBidXR0b25GdW5jdGlvbklkID0gYnV0dG9uRnVuY3Rpb25zW2V2dC50YXJnZXQuaWRdO1xyXG4gIGJ1dHRvbkZ1bmN0aW9uSWQgPyBidXR0b25GdW5jdGlvbklkKGV2dCkgOiBudWxsO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFZhbGlkYXRpb24gPSAoXHJcbiAgZm9ybVNlbGVjdG9yLFxyXG4gIGlucHV0U2VsZWN0b3IsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuKSA9PiB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGZvcm1TZWxlY3RvcixcclxuICAgIGlucHV0U2VsZWN0b3IsXHJcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcixcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX2J1dHRvbl9kaXNhYmxlZFwiLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVMaWtlRnVuY3Rpb24gPSAoXHJcbiAgZXZ0LFxyXG4gIHRhcmdldFNlbGVjdG9yLFxyXG4gIGljb25FbmFibGVkU3JjLFxyXG4gIGljb25EaXNhYmxlZFNyYyxcclxuICBpY29uRW5hYmxlZEFsdCxcclxuICBpY29uRGlzYWJsZWRBbHRcclxuKSA9PiB7XHJcbiAgaWYgKGlzVGFyZ2V0RWxlbWVudENsaWNrZWQodGFyZ2V0U2VsZWN0b3IsIGV2dC50YXJnZXQpKSB7XHJcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gZXZ0VGFyZ2V0Q2xvc2VzdEVsZW1lbnQodGFyZ2V0U2VsZWN0b3IsIGV2dC50YXJnZXQpO1xyXG4gICAgY29uc3QgaXNBY3RpdmUgPSB0YXJnZXRFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtYWN0aXZlXCIpID09PSBcInRydWVcIjtcclxuICAgIHRhcmdldEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1hY3RpdmVcIiwgIWlzQWN0aXZlKTtcclxuICAgIHNldEF0dHJpYnV0ZXMoXHJcbiAgICAgIHRhcmdldEVsZW1lbnQsXHJcbiAgICAgIGlzQWN0aXZlXHJcbiAgICAgICAgPyB7XHJcbiAgICAgICAgICAgIHNyYzogaWNvbkRpc2FibGVkU3JjLFxyXG4gICAgICAgICAgICBhbHQ6IGljb25EaXNhYmxlZEFsdCxcclxuICAgICAgICAgIH1cclxuICAgICAgICA6IHtcclxuICAgICAgICAgICAgc3JjOiBpY29uRW5hYmxlZFNyYyxcclxuICAgICAgICAgICAgYWx0OiBpY29uRW5hYmxlZEFsdCxcclxuICAgICAgICAgIH1cclxuICAgICk7XHJcbiAgICBhbmltYXRlT3BhY2l0eSh0YXJnZXRFbGVtZW50LCAwLCAxLCA0MDApO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYW5kbGVEZWxldGVGdW5jdGlvbiA9IChcclxuICBldnQsXHJcbiAgZGVsZXRlQnV0dG9uU2VsZWN0b3IsXHJcbiAgdGFyZ2V0U2VsZWN0b3JcclxuKSA9PiB7XHJcbiAgaWYgKGlzVGFyZ2V0RWxlbWVudENsaWNrZWQoZGVsZXRlQnV0dG9uU2VsZWN0b3IsIGV2dC50YXJnZXQpKSB7XHJcbiAgICBjb25zdCBjYXJkRGVsZXRlID0gZXZ0VGFyZ2V0Q2xvc2VzdEVsZW1lbnQodGFyZ2V0U2VsZWN0b3IsIGV2dC50YXJnZXQpO1xyXG4gICAgYW5pbWF0ZU9wYWNpdHkoY2FyZERlbGV0ZSwgMSwgMCwgNDAwLCB0cnVlKTtcclxuICB9XHJcbn07XHJcbiIsImltcG9ydCB7IGdldEFsbEFycnMsIGdldEVsZW1lbnQgfSBmcm9tIFwiLi9oZWxwZXJzLmpzXCI7XHJcblxyXG5leHBvcnQgY29uc3Qge1xyXG4gIG9wZW5Qb3B1cFByb2ZpbGUsXHJcbiAgcG9wdXBQcm9maWxlLFxyXG4gIHBvcHVwUHJvZmlsZUZvcm0sXHJcbiAgbmFtZUlucHV0UHJvZmlsZSxcclxuICBqb2JJbnB1dFByb2ZpbGUsXHJcbiAgbmFtZU91dHB1dFByb2ZpbGUsXHJcbiAgam9iT3V0cHV0UHJvZmlsZSxcclxuICBidG5TdWJtaXRQcm9maWxlLFxyXG4gIGJ0bkNsb3NlUHJvZmlsZSxcclxuICBidG5FZGl0UHJvZmlsZSxcclxufSA9IHtcclxuICBvcGVuUG9wdXBQcm9maWxlOiBcInBvcHVwX19vcGVuZWRcIixcclxuICBwb3B1cFByb2ZpbGU6IGdldEVsZW1lbnQoXCIjcG9wdXBcIiksXHJcbiAgcG9wdXBQcm9maWxlRm9ybTogZ2V0RWxlbWVudChcIi5wb3B1cF9fZm9ybVwiKSxcclxuICBuYW1lSW5wdXRQcm9maWxlOiBnZXRFbGVtZW50KFwiLnBvcHVwX19pbnB1dF90eXBlX25hbWVcIiksXHJcbiAgam9iSW5wdXRQcm9maWxlOiBnZXRFbGVtZW50KFwiLnBvcHVwX19pbnB1dF90eXBlX2pvYlwiKSxcclxuICBuYW1lT3V0cHV0UHJvZmlsZTogZ2V0RWxlbWVudChcIi5oZWFkZXJfX3RpdGxlXCIpLFxyXG4gIGpvYk91dHB1dFByb2ZpbGU6IGdldEVsZW1lbnQoXCIuaGVhZGVyX19zdWJ0aXRsZVwiKSxcclxuICBidG5TdWJtaXRQcm9maWxlOiBnZXRFbGVtZW50KFwiLnBvcHVwX19idXR0b25cIiksXHJcbiAgYnRuQ2xvc2VQcm9maWxlOiBnZXRFbGVtZW50KFwiLnBvcHVwX19jbG9zZWQtYnRuXCIpLFxyXG4gIGJ0bkVkaXRQcm9maWxlOiBnZXRFbGVtZW50KFwiLmJ1dHRvbi1lZGl0XCIpLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxQcm9maWxlID0gW1xyXG4gIHtcclxuICAgIG5hbWU6IG5hbWVPdXRwdXRQcm9maWxlLnRleHRDb250ZW50LFxyXG4gICAgam9iOiBqb2JPdXRwdXRQcm9maWxlLnRleHRDb250ZW50LFxyXG4gIH0sXHJcbl07XHJcblxyXG5leHBvcnQgbGV0IG5ld1Byb2ZpbGVzID0gW107XHJcblxyXG5leHBvcnQgbGV0IGFsbFByb2ZpbGVzID0gZ2V0QWxsQXJycyhuZXdQcm9maWxlcywgaW5pdGlhbFByb2ZpbGUpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZU5ld1Byb2ZpbGUgPSAobmFtZSwgam9iKSA9PlxyXG4gIG5hbWUgJiYgam9iICYmICFhbGxQcm9maWxlcy5zb21lKChwcm9maWxlKSA9PiBwcm9maWxlLm5hbWUgPT09IG5hbWUpXHJcbiAgICA/IHsgbmFtZSwgam9iIH1cclxuICAgIDogbnVsbDtcclxuXHJcbmV4cG9ydCBjb25zdCBhZGROZXdQcm9maWxlID0gKG5hbWUsIGpvYikgPT4ge1xyXG4gIGNvbnN0IG5ld1Byb2ZpbGUgPSBjcmVhdGVOZXdQcm9maWxlKG5hbWUsIGpvYik7XHJcbiAgaWYgKG5ld1Byb2ZpbGUpIHtcclxuICAgIG5ld1Byb2ZpbGVzID0gW25ld1Byb2ZpbGUsIC4uLm5ld1Byb2ZpbGVzXTtcclxuICAgIGFsbFByb2ZpbGVzID0gZ2V0QWxsQXJycyhuZXdQcm9maWxlcywgaW5pdGlhbFByb2ZpbGUpO1xyXG4gIH1cclxuICByZXR1cm4geyBhbGxQcm9maWxlcywgbmV3UHJvZmlsZXMgfTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCB7XHJcbiAgb3BlblBvcHVwQ2FyZEFkZCxcclxuICBwb3B1cENhcmRBZGQsXHJcbiAgcG9wdXBDYXJkQWRkRm9ybSxcclxuICBwb3B1cENhcmRBZGRCdXR0b25TdWJtaXQsXHJcbiAgcGxhY2VJbnB1dENhcmRBZGQsXHJcbiAgaW1nTGlua0lucHV0Q2FyZEFkZCxcclxufSA9IHtcclxuICBvcGVuUG9wdXBDYXJkQWRkOiBcInBvcHVwX2NhcmQtYWRkX19vcGVuZWRcIixcclxuICBwb3B1cENhcmRBZGQ6IGdldEVsZW1lbnQoXCIjcG9wdXBfY2FyZC1hZGRcIiksXHJcbiAgcG9wdXBDYXJkQWRkRm9ybTogZ2V0RWxlbWVudChcIiNwb3B1cF9fZm9ybV9jYXJkLWFkZFwiKSxcclxuICBwb3B1cENhcmRBZGRCdXR0b25TdWJtaXQ6IGdldEVsZW1lbnQoXCIjcG9wdXBfX2J1dHRvbl9jYXJkLWFkZFwiKSxcclxuICBwbGFjZUlucHV0Q2FyZEFkZDogZ2V0RWxlbWVudChcIi5wb3B1cF9faW5wdXRfdHlwZV9wbGFjZVwiKSxcclxuICBpbWdMaW5rSW5wdXRDYXJkQWRkOiBnZXRFbGVtZW50KFwiLnBvcHVwX19pbnB1dF90eXBlX2ltZy1saW5rXCIpLFxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX3lvc2VtaXRlLmpwZ1wiLFxyXG4gICAgYWx0OiBcIkltYWdlbSBkbyB2YWxlIGRlIFlvc2VtaXRlIGNvbSB1bSByaW8sIMOhcnZvcmVzLCBtb250YW5oYXMgYW8gZnVuZG8gZSBtdWl0YSBuYXR1cmV6YVwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gICAgYWx0OiBcIkltYWdlbSBkbyBMYWdvIExvdWlzZSBjb20gbW9udGFuaGFzIGFvIGZ1bmRvIGUgbmF0dXJlemEgZXh1YmVyYW50ZVwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJCYWxkIE1vdW50YWluc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2JhbGQtbW91bnRhaW5zLmpwZ1wiLFxyXG4gICAgYWx0OiBcIkltYWdlbSBkYXMgTW9udGFuaGFzIENhcmVjYXMsIHZlZ2V0YcOnw6NvIGNvbSDDoXJ2b3JlcyBlIGFvIGZ1bmRvIG8gcMO2ciBkbyBzb2xcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2xhdGVtYXIuanBnXCIsXHJcbiAgICBhbHQ6IFwiSW1hZ2VtIGRvIHZhbGUgZGUgTGF0ZW1hciwgbW9udGFuaGFzIGFvIGZ1bmRvIGUgY8OpdSBlc3RyZWxhZG9cIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiVmFub2lzZSBOYXRpb25hbCBQYXJrXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vd2ViLWNvZGUvbW92ZWRfdmFub2lzZS5qcGdcIixcclxuICAgIGFsdDogXCJJbWFnZW0gZG8gUGFycXVlIE5hY2lvbmFsIFZhbm9pc2UgY29tIExhZ28sIG1vbnRhbmhhcyBhbyBmdW5kbyBlIG5hdHVyZXphIGJlbGlzc2ltYVwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3dlYi1jb2RlL21vdmVkX2xhZ28uanBnXCIsXHJcbiAgICBhbHQ6IFwiSW1hZ2VtIGRvIExhZ28gZGkgQnJhaWVzIGNvbSB1bSBkZWNrLCBiYXJjb3MgYW5jb3JhZG9zLCBtb250YW5oYXMgYW8gZnVuZG8gZSBuYXR1cmV6YSBwcmVzZXJ2YWRhXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBsZXQgbmV3Q2FyZHMgPSBbXTtcclxuXHJcbmxldCBnZXRBbGxDYXJkcyA9IGdldEFsbEFycnMobmV3Q2FyZHMsIGluaXRpYWxDYXJkcyk7XHJcblxyXG5sZXQgcmV2ZXJzZWRDYXJkcyA9IGdldEFsbENhcmRzLnNsaWNlKCkucmV2ZXJzZSgpO1xyXG5cclxuZXhwb3J0IGxldCBhbGxDYXJkcyA9IHJldmVyc2VkQ2FyZHM7XHJcblxyXG5leHBvcnQgY29uc3QgY3JlYXRlTmV3Q2FyZCA9IChuYW1lLCBsaW5rKSA9PlxyXG4gIG5hbWUgJiYgbGluayA/IHsgbmFtZSwgbGluaywgYWx0OiBgSW1hZ2VtIGRlICR7bmFtZX1gIH0gOiBudWxsO1xyXG5cclxuZXhwb3J0IGNvbnN0IGFkZE5ld0NhcmQgPSAobmFtZSwgbGluaykgPT4ge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBjcmVhdGVOZXdDYXJkKG5hbWUsIGxpbmspO1xyXG4gIGlmIChuZXdDYXJkKSB7XHJcbiAgICBuZXdDYXJkcyA9IFtuZXdDYXJkLCAuLi5uZXdDYXJkc107XHJcbiAgICBhbGxDYXJkcyA9IGdldEFsbEFycnMobmV3Q2FyZHMsIGluaXRpYWxDYXJkcyk7XHJcbiAgfVxyXG4gIHJldHVybiB7IGFsbENhcmRzLCBuZXdDYXJkcyB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGhlYXJ0SWNvbkVuYWJsZWQgPSByZXF1aXJlKFwiLi4vaW1hZ2VzL2hlYXJ0X2ljb25fZW5hYmxlZC5wbmdcIik7XHJcblxyXG5leHBvcnQgY29uc3QgaGVhcnRJY29uRGlzYWJsZWQgPSByZXF1aXJlKFwiLi4vaW1hZ2VzL2hlYXJ0X2ljb25fZGlzYWJsZWQucG5nXCIpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHtcclxuICBvcGVuUG9wdXBDYXJkSW1nLFxyXG4gIHBvcHVwQ2FyZEltZ09wZW4sXHJcbiAgcG9wdXBDYXJkSW1nLFxyXG4gIHBvcHVwQ2FyZE5hbWUsXHJcbn0gPSB7XHJcbiAgb3BlblBvcHVwQ2FyZEltZzogXCJpbWctcG9wdXAtY2FyZF9fb3BlbmVkXCIsXHJcbiAgcG9wdXBDYXJkSW1nT3BlbjogZ2V0RWxlbWVudChcIiNpbWctcG9wdXAtY2FyZFwiKSxcclxuICBwb3B1cENhcmRJbWc6IGdldEVsZW1lbnQoXCIuaW1nLXBvcHVwLWNhcmRfX2ltYWdlXCIpLFxyXG4gIHBvcHVwQ2FyZE5hbWU6IGdldEVsZW1lbnQoXCIuaW1nLXBvcHVwLWNhcmRfX3RpdGxlXCIpLFxyXG59O1xyXG4iLCJpbXBvcnQge1xyXG4gIGdldEVsZW1lbnQsXHJcbiAgcmVtb3ZlU3RhcnRpbmdEb3QsXHJcbiAgYWRkLFxyXG4gIGFkZFBvcHVwRGlzcGxheSxcclxuICByZW1vdmUsXHJcbiAgcmVtb3ZlUG9wdXBEaXNwbGF5LFxyXG4gIGhhbmRsZUtleVByZXNzRnVuY3Rpb24sXHJcbiAgaGFuZGxlT3V0c2lkZUNsaWNrRnVuY3Rpb24sXHJcbiAgYWRkRXZlbnRUb0RPTSxcclxufSBmcm9tIFwiLi4vdXRpbHMvaGVscGVycy5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHRhcmdldEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGdldEVsZW1lbnQodGFyZ2V0RWxlbWVudCk7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnRXaXRob3V0RG90ID0gcmVtb3ZlU3RhcnRpbmdEb3QodGFyZ2V0RWxlbWVudCkoKTtcclxuICAgIHRoaXMuX29wZW5lZENsYXNzTmFtZSA9IGAke3RoaXMuX3BvcHVwRWxlbWVudFdpdGhvdXREb3R9X19vcGVuZWRgO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b25zID0gQXJyYXkuZnJvbShcclxuICAgICAgZ2V0RWxlbWVudCgnW2lkJD1cIl9fY2xvc2VkLWJ0blwiXScsIFwicXVlcnlTZWxlY3RvckFsbFwiKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9jcmVhdGVDYWxsYmFja0FkZERpc3BsYXkgPSAoKSA9PiAoKSA9PlxyXG4gICAgYWRkKHRoaXMuX29wZW5lZENsYXNzTmFtZSwgdGhpcy5fcG9wdXBFbGVtZW50KTtcclxuXHJcbiAgX2NyZWF0ZUNhbGxiYWNrUmVtb3ZlRGlzcGxheSA9ICgpID0+ICgpID0+IHtcclxuICAgIHJlbW92ZSh0aGlzLl9vcGVuZWRDbGFzc05hbWUsIHRoaXMuX3BvcHVwRWxlbWVudCk7XHJcbiAgfTtcclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKCkgPT4ge1xyXG4gICAgYWRkRXZlbnRUb0RPTShcclxuICAgICAgXCJrZXlkb3duXCIsXHJcbiAgICAgIGhhbmRsZUtleVByZXNzRnVuY3Rpb24odGhpcy5fY3JlYXRlQ2FsbGJhY2tSZW1vdmVEaXNwbGF5KCkpLFxyXG4gICAgICBkb2N1bWVudFxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBfaGFuZGxlT3V0c2lkZUNsaWNrQ2xvc2UgPSAoKSA9PiB7XHJcbiAgICBhZGRFdmVudFRvRE9NKFxyXG4gICAgICBcIm1vdXNlZG93blwiLFxyXG4gICAgICBoYW5kbGVPdXRzaWRlQ2xpY2tGdW5jdGlvbihcclxuICAgICAgICB0aGlzLl9wb3B1cEVsZW1lbnRXaXRob3V0RG90LFxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUNhbGxiYWNrUmVtb3ZlRGlzcGxheSgpXHJcbiAgICAgICksXHJcbiAgICAgIHRoaXMuX3BvcHVwRWxlbWVudFxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBfZ2V0Q2xvc2VCdXR0b25zQW5kQWRkRXZlbnRMaXN0ZW5lcigpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcclxuICAgICAgYWRkRXZlbnRUb0RPTShcclxuICAgICAgICBcIm1vdXNlZG93blwiLFxyXG4gICAgICAgICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuY2xvc2UoKSgpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYnV0dG9uXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG9wZW4gPSAoKSA9PiAoKSA9PiB7XHJcbiAgICBhZGRQb3B1cERpc3BsYXkoXHJcbiAgICAgIHRoaXMuX29wZW5lZENsYXNzTmFtZSxcclxuICAgICAgdGhpcy5fcG9wdXBFbGVtZW50LFxyXG4gICAgICB0aGlzLl9jcmVhdGVDYWxsYmFja0FkZERpc3BsYXkoKVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBjbG9zZSA9ICgpID0+ICgpID0+IHtcclxuICAgIHJlbW92ZVBvcHVwRGlzcGxheShcclxuICAgICAgdGhpcy5fb3BlbmVkQ2xhc3NOYW1lLFxyXG4gICAgICB0aGlzLl9wb3B1cEVsZW1lbnQsXHJcbiAgICAgIHRoaXMuX2NyZWF0ZUNhbGxiYWNrUmVtb3ZlRGlzcGxheSgpXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UoKTtcclxuICAgIHRoaXMuX2hhbmRsZU91dHNpZGVDbGlja0Nsb3NlKCk7XHJcbiAgICB0aGlzLl9nZXRDbG9zZUJ1dHRvbnNBbmRBZGRFdmVudExpc3RlbmVyKCk7XHJcbiAgfTtcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZyA9IHZhbGlkYXRpb25Db25maWc7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5fUFRfQlJfRVJST1JfTUVTU0FHRVMgPSB7XHJcbiAgICAgIC8vIHNlIGFsdGVyYXIgbWFpcyBkbyBxdWUgaXNzbyBuYW8gdmFsaWRhIG9zIGNhbXBvcyxcclxuICAgICAgLy8gZXN0w6EgYWNvbXBhbmhhbmRvIG8gaWRpb21hIGRvIG5hdmVnYWRvcixcclxuICAgICAgLy8gbyBpZGlvbWEgcHJpbmNpcGFsIMOpIHB0QnIsIHNlIG7Do28sIGlkaW9tYSBkbyBuYXZlZ2Fkb3IsXHJcbiAgICAgIHZhbHVlTWlzc2luZzogXCJFc3RlIGNhbXBvIMOpIG9icmlnYXTDs3Jpby5cIixcclxuICAgICAgdHlwZU1pc21hdGNoOiB7XHJcbiAgICAgICAgZW1haWw6IFwiUG9yIGZhdm9yLCBpbmZvcm1lIHVtIGVuZGVyZcOnbyBkZSBlLW1haWwgdsOhbGlkby5cIixcclxuICAgICAgICB1cmw6IFwiUG9yIGZhdm9yLCBpbmZvcm1lIHVtYSBVUkwgdsOhbGlkYS5cIixcclxuICAgICAgfSxcclxuICAgICAgdG9vU2hvcnQ6IFwiUG9yIGZhdm9yLCBpbmZvcm1lIHBlbG8gbWVub3Mge21pbkxlbmd0aH0gY2FyYWN0ZXJlcy5cIixcclxuICAgICAgdG9vTG9uZzogXCJQb3IgZmF2b3IsIGluZm9ybWUgbm8gbcOheGltbyB7bWF4TGVuZ3RofSBjYXJhY3RlcmVzLlwiLFxyXG4gICAgICBwYXR0ZXJuTWlzbWF0Y2g6IFwiUG9yIGZhdm9yLCBwcmVlbmNoYSBlc3RlIGNhbXBvIGNvcnJldGFtZW50ZS5cIixcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAjX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgY29uc3QgZXJyb3JUeXBlID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgY29uc3QgcHRCckVycm9yTWVzc2FnZSA9XHJcbiAgICAgIHRoaXMuX1BUX0JSX0VSUk9SX01FU1NBR0VTW2Vycm9yVHlwZV0gfHwgZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gcHRCckVycm9yTWVzc2FnZTtcclxuICB9XHJcblxyXG4gICNfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcbiAgICBlcnJvckVsZW1lbnQgJiZcclxuICAgICAgKGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKSxcclxuICAgICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKSxcclxuICAgICAgKGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCIpKTtcclxuICB9XHJcblxyXG4gICNfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxyXG4gICAgICA/IHRoaXMuI19zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSlcclxuICAgICAgOiB0aGlzLiNfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICB9XHJcblxyXG4gICNfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xyXG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgI190b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcclxuICAgIHRoaXMuI19oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KVxyXG4gICAgICA/IGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpXHJcbiAgICAgIDogYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzXHJcbiAgICAgICAgKTtcclxuICB9XHJcblxyXG4gICNfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuI190b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLiNfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy4jX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIilcclxuICAgICk7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLiNfdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy4jX3NldEV2ZW50TGlzdGVuZXJzKGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwLmpzXCI7XHJcblxyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIGFkZEV2dEJ1dHRvbnNGb3JGdW5jdGlvbnMsXHJcbiAgYWRkRXZlbnRUb0RPTSxcclxuICBnZXRWYWxpZGF0aW9uLFxyXG59IGZyb20gXCIuLi91dGlscy9oZWxwZXJzLmpzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIHBvcHVwUHJvZmlsZUZvcm0sXHJcbiAgbmFtZU91dHB1dFByb2ZpbGUsXHJcbiAgam9iT3V0cHV0UHJvZmlsZSxcclxuICBhZGROZXdQcm9maWxlLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciB9KSB7XHJcbiAgICBzdXBlcihcIi5wb3B1cFwiKTtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9qb2IgPSBqb2JTZWxlY3RvcjtcclxuICAgIHRoaXMuX29wZW4gPSB0aGlzLm9wZW4oKTtcclxuICAgIHRoaXMuX2Nsb3NlID0gdGhpcy5jbG9zZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMgPSB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IGdldFZhbGlkYXRpb24oXHJcbiAgICAgIHBvcHVwUHJvZmlsZUZvcm0sXHJcbiAgICAgIFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gICAgICBcIi5wb3B1cF9fYnV0dG9uXCJcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fZm9ybVZhbGlkYXRvclVzZXJJbmZvID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgICAgIHZhbGlkYXRpb25Db25maWcsXHJcbiAgICAgIHBvcHVwUHJvZmlsZUZvcm1cclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fZm9ybVZhbGlkYXRvclVzZXJJbmZvLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9XHJcblxyXG4gIF9nZXRVc2VySW5mbyA9IChldnQpID0+IHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5fbmFtZS5wbGFjZWhvbGRlciA9IFwiSW5zaXJhIG8gTm9tZSBkbyBVc3XDoXJpb1wiO1xyXG4gICAgdGhpcy5fam9iLnBsYWNlaG9sZGVyID0gXCJJbnNpcmEgYSBzdWEgUHJvZmlzc8Ojb1wiO1xyXG4gICAgdGhpcy5fb3BlbigpO1xyXG4gICAgcG9wdXBQcm9maWxlRm9ybS5yZXNldCgpO1xyXG4gICAgdGhpcy5fZm9ybVZhbGlkYXRvclVzZXJJbmZvLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICB9O1xyXG5cclxuICBfc2V0VXNlckluZm8gPSAoZXZ0KSA9PiB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IHsgdmFsdWU6IG5hbWVJbnB1dCB9ID0gdGhpcy5fbmFtZTtcclxuICAgIGNvbnN0IHsgdmFsdWU6IGpvYklucHV0IH0gPSB0aGlzLl9qb2I7XHJcbiAgICBpZiAobmFtZUlucHV0ICYmIGpvYklucHV0KSB7XHJcbiAgICAgIGFkZE5ld1Byb2ZpbGUobmFtZUlucHV0LCBqb2JJbnB1dCk7XHJcbiAgICAgIHRoaXMuX2Nsb3NlKCk7XHJcbiAgICAgIG5hbWVPdXRwdXRQcm9maWxlLnRleHRDb250ZW50ID0gbmFtZUlucHV0O1xyXG4gICAgICBqb2JPdXRwdXRQcm9maWxlLnRleHRDb250ZW50ID0gam9iSW5wdXQ7XHJcbiAgICAgIHBvcHVwUHJvZmlsZUZvcm0ucmVzZXQoKTtcclxuICAgICAgdGhpcy5fZm9ybVZhbGlkYXRvclVzZXJJbmZvLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfZ2V0QnV0dG9uc0ZvckZ1bmN0aW9uc1VzZXJJbmZvID0gKCkgPT4gKHtcclxuICAgIFwiYnV0dG9uLWVkaXRcIjogdGhpcy5fZ2V0VXNlckluZm8sXHJcbiAgICBwb3B1cF9fYnV0dG9uOiB0aGlzLl9zZXRVc2VySW5mbyxcclxuICB9KTtcclxuXHJcbiAgX2hhbmRsZUJ1dHRvbnNGb3JGdW5jdGlvbnNVc2VySW5mbyA9IChldnQpID0+XHJcbiAgICBhZGRFdnRCdXR0b25zRm9yRnVuY3Rpb25zKHRoaXMuX2dldEJ1dHRvbnNGb3JGdW5jdGlvbnNVc2VySW5mbygpLCBldnQpO1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVyc1VzZXJJbmZvVG9ET00gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9vcGVuKCk7XHJcbiAgICB0aGlzLl9jbG9zZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnM7XHJcbiAgICBhZGRFdmVudFRvRE9NKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQnV0dG9uc0ZvckZ1bmN0aW9uc1VzZXJJbmZvLCBkb2N1bWVudCk7XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXAuanNcIjtcclxuXHJcbmltcG9ydCBDYXJkIGZyb20gXCIuL0NhcmQuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgc3VwZXIoXCIuaW1nLXBvcHVwLWNhcmRcIik7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycyA9IHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJDYXJkID1cclxuICAgICAgQ2FyZC5wcm90b3R5cGUuc2V0RXZlbnRMaXN0ZW5lckZyb21Qb3B1cFdpdGhJbWFnZTtcclxuICAgIHRoaXMub3BlbiA9IHRoaXMub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnNQb3B1cFdpdGhJbWFnZVRvRE9NID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnM7XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4vUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgcG9wdXBDYXJkSW1nLFxyXG4gIHBvcHVwQ2FyZE5hbWUsXHJcbiAgaGVhcnRJY29uRW5hYmxlZCxcclxuICBoZWFydEljb25EaXNhYmxlZCxcclxuICBhbGxDYXJkcyxcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIGdldEVsZW1lbnQsXHJcbiAgYWRkRXZlbnRUb0RPTSxcclxuICBhbmltYXRlT3BhY2l0eSxcclxuICBzZXRBdHRyaWJ1dGVzLFxyXG4gIGhhbmRsZUxpa2VGdW5jdGlvbixcclxuICBoYW5kbGVEZWxldGVGdW5jdGlvbixcclxufSBmcm9tIFwiLi4vdXRpbHMvaGVscGVycy5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgdGVtcGxhdGVTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RpdGxlXCIpO1xyXG4gICAgdGhpcy5fY2FyZHNTZWN0aW9uID0gZ2V0RWxlbWVudChcIi5jYXJkc1wiKTtcclxuICAgIHRoaXMuX3BvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCk7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJGcm9tUG9wdXBXaXRoSW1hZ2UoKTtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gZ2V0RWxlbWVudCh0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKTtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIF9yZW5kZXJDYXJkcyhjYXJkcykge1xyXG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IFwiI2NhcmRzLXRlbXBsYXRlXCI7XHJcbiAgICByZXR1cm4gY2FyZHMubWFwKChjYXJkKSA9PiB7XHJcbiAgICAgIHRoaXMuX25ld0NhcmRJbnN0YW5jZSA9IG5ldyBDYXJkKGNhcmQsIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpO1xyXG4gICAgICByZXR1cm4gdGhpcy5fbmV3Q2FyZEluc3RhbmNlLmdlbmVyYXRlSW5zdGFuY2VDYXJkKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVIZWFydENhcmRMaWtlKGV2dCkge1xyXG4gICAgaGFuZGxlTGlrZUZ1bmN0aW9uKFxyXG4gICAgICBldnQsXHJcbiAgICAgIFwiYnV0dG9uLWhlYXJ0LWljb25cIixcclxuICAgICAgaGVhcnRJY29uRW5hYmxlZCxcclxuICAgICAgaGVhcnRJY29uRGlzYWJsZWQsXHJcbiAgICAgIFwiSWNvbiBkZSBjb3Jhw6fDo28gYXRpdmFkbyBjb20gcHJlZW5jaGltZW50b1wiLFxyXG4gICAgICBcIkljb24gZGUgY29yYcOnw6NvIGRlc2F0aXZhZG8gYXBlbmFzIGNvbSBib3JkYXNcIlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVDYXJkRGVsZXRlKGV2dCkge1xyXG4gICAgaGFuZGxlRGVsZXRlRnVuY3Rpb24oZXZ0LCBcImJ1dHRvbi10cmFzaC1pY29uXCIsIFwiY2FyZFwiKTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlSW5zdGFuY2VDYXJkKCkge1xyXG4gICAgc2V0QXR0cmlidXRlcyh0aGlzLl9jYXJkSW1hZ2UsIHtcclxuICAgICAgc3JjOiB0aGlzLl9kYXRhLmxpbmssXHJcbiAgICAgIGFsdDogYEltYWdlbSBkZSAke3RoaXMuX2RhdGEubmFtZX1gLFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLm5hbWU7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgYWRkTmV3Q2FyZFRvRE9NKCkge1xyXG4gICAgdGhpcy5fY2FyZHNTZWN0aW9uID0gZ2V0RWxlbWVudChcIi5jYXJkc1wiKTtcclxuICAgIHRoaXMuX25ld0NhcmRUb0RPTSA9IHRoaXMuX3JlbmRlckNhcmRzKGFsbENhcmRzKVswXTtcclxuICAgIHRoaXMuX2NhcmRzU2VjdGlvbi5pbnNlcnRCZWZvcmUoXHJcbiAgICAgIHRoaXMuX25ld0NhcmRUb0RPTSxcclxuICAgICAgdGhpcy5fY2FyZHNTZWN0aW9uLmZpcnN0Q2hpbGRcclxuICAgICk7XHJcbiAgICBhbmltYXRlT3BhY2l0eSh0aGlzLl9uZXdDYXJkVG9ET00sIDAsIDEsIDQwMCk7XHJcbiAgfVxyXG5cclxuICBhZGRFdmVudHNDYXJkc1RvRE9NID0gKCkgPT4ge1xyXG4gICAgYWRkRXZlbnRUb0RPTShcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVIZWFydENhcmRMaWtlLCB0aGlzLl9jYXJkc1NlY3Rpb24pO1xyXG4gICAgYWRkRXZlbnRUb0RPTShcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlLCB0aGlzLl9jYXJkc1NlY3Rpb24pO1xyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJGcm9tUG9wdXBXaXRoSW1hZ2UoKSB7XHJcbiAgICBhZGRFdmVudFRvRE9NKFxyXG4gICAgICBcIm1vdXNlZG93blwiLFxyXG4gICAgICAoKSA9PiB0aGlzLl9wb3B1cFdpdGhJbWFnZS5vcGVuKCksXHJcbiAgICAgIHRoaXMuX2NhcmRJbWFnZVxyXG4gICAgKTtcclxuICAgIHBvcHVwQ2FyZEltZy5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XHJcbiAgICBwb3B1cENhcmROYW1lLnRleHRDb250ZW50ID0gdGhpcy5fZGF0YS5uYW1lO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXAuanNcIjtcclxuXHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuXHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgYWRkRXZ0QnV0dG9uc0ZvckZ1bmN0aW9ucyxcclxuICBhZGRFdmVudFRvRE9NLFxyXG4gIGdldFZhbGlkYXRpb24sXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2hlbHBlcnMuanNcIjtcclxuXHJcbmltcG9ydCB7XHJcbiAgYWRkTmV3Q2FyZCxcclxuICBwb3B1cENhcmRBZGRGb3JtLFxyXG4gIHBsYWNlSW5wdXRDYXJkQWRkLFxyXG4gIGltZ0xpbmtJbnB1dENhcmRBZGQsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3RvciwgbGlua1NlbGVjdG9yIH0pIHtcclxuICAgIHN1cGVyKFwiLnBvcHVwX2NhcmQtYWRkXCIpO1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWVTZWxlY3RvcjtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9vcGVuID0gdGhpcy5vcGVuKCk7XHJcbiAgICB0aGlzLl9jbG9zZSA9IHRoaXMuY2xvc2UoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzID0gdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSBnZXRWYWxpZGF0aW9uKFxyXG4gICAgICBwb3B1cENhcmRBZGRGb3JtLFxyXG4gICAgICBcIi5wb3B1cF9faW5wdXRcIixcclxuICAgICAgXCIucG9wdXBfX2J1dHRvblwiXHJcbiAgICApO1xyXG5cclxuICAgIHRoaXMuX2Zvcm1WYWxpZGF0b3JQb3B1cFdpdGhGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoXHJcbiAgICAgIHZhbGlkYXRpb25Db25maWcsXHJcbiAgICAgIHBvcHVwQ2FyZEFkZEZvcm1cclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fZm9ybVZhbGlkYXRvclBvcHVwV2l0aEZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzID0gKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBwbGFjZUlucHV0Q2FyZEFkZC5wbGFjZWhvbGRlciA9IFwiSW5zaXJhIG8gTm9tZSBkbyBMb2NhbFwiO1xyXG4gICAgaW1nTGlua0lucHV0Q2FyZEFkZC5wbGFjZWhvbGRlciA9IFwiSW5zaXJhIG8gVVJMIGRhIEltYWdlbVwiO1xyXG4gICAgdGhpcy5fb3BlbigpO1xyXG4gICAgcG9wdXBDYXJkQWRkRm9ybS5yZXNldCgpO1xyXG4gICAgdGhpcy5fZm9ybVZhbGlkYXRvclBvcHVwV2l0aEZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH07XHJcblxyXG4gIF9zZXRJbnB1dFZhbHVlcyA9IChldnQpID0+IHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgeyB2YWx1ZTogbmFtZSB9ID0gcGxhY2VJbnB1dENhcmRBZGQ7XHJcbiAgICBjb25zdCB7IHZhbHVlOiBsaW5rIH0gPSBpbWdMaW5rSW5wdXRDYXJkQWRkO1xyXG4gICAgaWYgKG5hbWUgJiYgbGluaykge1xyXG4gICAgICBhZGROZXdDYXJkKG5hbWUsIGxpbmspO1xyXG4gICAgICBDYXJkLmFkZE5ld0NhcmRUb0RPTSgpO1xyXG4gICAgICB0aGlzLl9jbG9zZSgpO1xyXG4gICAgICBwb3B1cENhcmRBZGRGb3JtLnJlc2V0KCk7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWxpZGF0b3JQb3B1cFdpdGhGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfZ2V0QnV0dG9uc0ZvckZ1bmN0aW9uc1BvcHVwV2l0aEZvcm0gPSAoKSA9PiAoe1xyXG4gICAgXCJidXR0b24tYWRkXCI6IHRoaXMuX2dldElucHV0VmFsdWVzLFxyXG4gICAgXCJwb3B1cF9fYnV0dG9uX2NhcmQtYWRkXCI6IHRoaXMuX3NldElucHV0VmFsdWVzLFxyXG4gIH0pO1xyXG5cclxuICBfaGFuZGxlQnV0dG9uc0ZvckZ1bmN0aW9uc1BvcHVwV2l0aEZvcm0gPSAoZXZ0KSA9PlxyXG4gICAgYWRkRXZ0QnV0dG9uc0ZvckZ1bmN0aW9ucyh0aGlzLl9nZXRCdXR0b25zRm9yRnVuY3Rpb25zUG9wdXBXaXRoRm9ybSgpLCBldnQpO1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVyc1BvcHVwV2l0aEZvcm1Ub0RPTSA9ICgpID0+IHtcclxuICAgIHRoaXMuX29wZW4oKTtcclxuICAgIHRoaXMuX2Nsb3NlKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycztcclxuICAgIGFkZEV2ZW50VG9ET00oXHJcbiAgICAgIFwiY2xpY2tcIixcclxuICAgICAgdGhpcy5faGFuZGxlQnV0dG9uc0ZvckZ1bmN0aW9uc1BvcHVwV2l0aEZvcm0sXHJcbiAgICAgIGRvY3VtZW50XHJcbiAgICApO1xyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgZ2V0RWxlbWVudCB9IGZyb20gXCIuLi91dGlscy9oZWxwZXJzLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBnZXRFbGVtZW50KGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi4vc3R5bGVzL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IHtcclxuICBuYW1lSW5wdXRQcm9maWxlLFxyXG4gIGpvYklucHV0UHJvZmlsZSxcclxuICBwbGFjZUlucHV0Q2FyZEFkZCxcclxuICBpbWdMaW5rSW5wdXRDYXJkQWRkLFxyXG4gIGFsbENhcmRzLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5cclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5cclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcblxyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcblxyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcblxyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiBuYW1lSW5wdXRQcm9maWxlLFxyXG4gIGpvYlNlbGVjdG9yOiBqb2JJbnB1dFByb2ZpbGUsXHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBuYW1lU2VsZWN0b3I6IHBsYWNlSW5wdXRDYXJkQWRkLFxyXG4gIGpvYlNlbGVjdG9yOiBpbWdMaW5rSW5wdXRDYXJkQWRkLFxyXG59KTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCk7XHJcblxyXG5jb25zdCBjYXJkc1NlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBpdGVtczogYWxsQ2FyZHMsXHJcbiAgICByZW5kZXJlcjogKGNhcmQpID0+IHtcclxuICAgICAgY29uc3QgbmV3Q2FyZEluc3RhbmNlID0gbmV3IENhcmQoY2FyZCwgXCIjY2FyZHMtdGVtcGxhdGVcIik7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3Q2FyZEluc3RhbmNlLmdlbmVyYXRlSW5zdGFuY2VDYXJkKCk7XHJcbiAgICAgIGNhcmRzU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgbmV3Q2FyZEluc3RhbmNlLmFkZEV2ZW50c0NhcmRzVG9ET00oKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBcIi5jYXJkc1wiXHJcbik7XHJcblxyXG5jb25zdCBhZGRDYXJkc1RvRE9NID0gKCkgPT4ge1xyXG4gIGNhcmRzU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xyXG59O1xyXG5cclxuY29uc3QgYWRkQ29udGVudFRvRE9NID0gKCkgPT4ge1xyXG4gIHVzZXJJbmZvLnNldEV2ZW50TGlzdGVuZXJzVXNlckluZm9Ub0RPTSgpO1xyXG4gIHBvcHVwV2l0aEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnNQb3B1cFdpdGhGb3JtVG9ET00oKTtcclxuICBwb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVyc1BvcHVwV2l0aEltYWdlVG9ET00oKTtcclxuICBhZGRDYXJkc1RvRE9NKCk7XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBhZGRDb250ZW50VG9ET00pO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiZ2V0QWxsQXJycyIsIm5ld0FyciIsImluaXRpYWxBcnIiLCJjb25jYXQiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJtYXAiLCJpdGVtIiwiX29iamVjdFNwcmVhZCIsImdldEVsZW1lbnQiLCJzZWxlY3RvciIsImRvY3VtZW50IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY2FsbElmRnVuY3Rpb24iLCJjYWxsYmFjayIsInN0eWxlRGlzcGxheVZhbHVlIiwiZGlzcGxheVZhbHVlIiwidGFyZ2V0RWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImNvbnRhaW5zIiwidGFyZ2V0Q2xhc3NOYW1lIiwiY2xhc3NMaXN0IiwiYW5pbWF0ZU9wYWNpdHkiLCJzdGFydE9wYWNpdHkiLCJlbmRPcGFjaXR5IiwiZHVyYXRpb24iLCJyZW1vdmVPbkZpbmlzaCIsImFuaW1hdGUiLCJvcGFjaXR5IiwiZWFzaW5nIiwib25maW5pc2giLCJyZW1vdmUiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImdldFN0YXJ0c1dpdGhEb3QiLCJzdHJpbmciLCJzdGFydHNXaXRoIiwicmVtb3ZlU3RhcnRpbmdEb3QiLCJzbGljZSIsImV2dFRhcmdldENsb3Nlc3RFbGVtZW50IiwiY2xvc2VzdCIsImlzVGFyZ2V0RWxlbWVudENsaWNrZWQiLCJhZGRFdmVudFRvRE9NIiwiZXZ0IiwiaGFuZGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGRFdnRCdXR0b25zRm9yRnVuY3Rpb25zIiwiYnV0dG9uRnVuY3Rpb25zIiwiYnV0dG9uRnVuY3Rpb25JZCIsInRhcmdldCIsImlkIiwiZ2V0VmFsaWRhdGlvbiIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX29wZW5Qb3B1cFByb2ZpbGUkcG9wIiwib3BlblBvcHVwUHJvZmlsZSIsInBvcHVwUHJvZmlsZSIsInBvcHVwUHJvZmlsZUZvcm0iLCJuYW1lSW5wdXRQcm9maWxlIiwiam9iSW5wdXRQcm9maWxlIiwibmFtZU91dHB1dFByb2ZpbGUiLCJqb2JPdXRwdXRQcm9maWxlIiwiYnRuU3VibWl0UHJvZmlsZSIsImJ0bkNsb3NlUHJvZmlsZSIsImJ0bkVkaXRQcm9maWxlIiwiaW5pdGlhbFByb2ZpbGUiLCJuYW1lIiwidGV4dENvbnRlbnQiLCJqb2IiLCJuZXdQcm9maWxlcyIsImFsbFByb2ZpbGVzIiwiX29wZW5Qb3B1cENhcmRBZGQkcG9wIiwib3BlblBvcHVwQ2FyZEFkZCIsInBvcHVwQ2FyZEFkZCIsInBvcHVwQ2FyZEFkZEZvcm0iLCJwb3B1cENhcmRBZGRCdXR0b25TdWJtaXQiLCJwbGFjZUlucHV0Q2FyZEFkZCIsImltZ0xpbmtJbnB1dENhcmRBZGQiLCJpbml0aWFsQ2FyZHMiLCJsaW5rIiwiYWx0IiwibmV3Q2FyZHMiLCJhbGxDYXJkcyIsInJldmVyc2UiLCJoZWFydEljb25FbmFibGVkIiwicmVxdWlyZSIsImhlYXJ0SWNvbkRpc2FibGVkIiwiX29wZW5Qb3B1cENhcmRJbWckcG9wIiwib3BlblBvcHVwQ2FyZEltZyIsInBvcHVwQ2FyZEltZ09wZW4iLCJwb3B1cENhcmRJbWciLCJwb3B1cENhcmROYW1lIiwiUG9wdXAiLCJfdGhpcyIsIl9jbGFzc0NhbGxDaGVjayIsIl9kZWZpbmVQcm9wZXJ0eSIsImFkZCIsIl9vcGVuZWRDbGFzc05hbWUiLCJfcG9wdXBFbGVtZW50IiwicmVtb3ZlUG9wdXBGdW5jIiwiX2NyZWF0ZUNhbGxiYWNrUmVtb3ZlRGlzcGxheSIsImtleSIsIl9wb3B1cEVsZW1lbnRXaXRob3V0RG90IiwiaXNPcGVuIiwiYWRkUG9wdXBEaXNwbGF5IiwiX2NyZWF0ZUNhbGxiYWNrQWRkRGlzcGxheSIsInJlbW92ZVBvcHVwRGlzcGxheSIsIl9oYW5kbGVFc2NDbG9zZSIsIl9oYW5kbGVPdXRzaWRlQ2xpY2tDbG9zZSIsIl9nZXRDbG9zZUJ1dHRvbnNBbmRBZGRFdmVudExpc3RlbmVyIiwidGhpcyIsIl9jbG9zZUJ1dHRvbnMiLCJBcnJheSIsImZyb20iLCJ2YWx1ZSIsIl90aGlzMiIsImZvckVhY2giLCJidXR0b24iLCJjbG9zZSIsIkZvcm1WYWxpZGF0b3IiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfY2xhc3NQcml2YXRlTWV0aG9kSW5pdFNwZWMiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaGFzSW52YWxpZElucHV0IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsIl92YWxpZGF0aW9uQ29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX1BUX0JSX0VSUk9SX01FU1NBR0VTIiwidmFsdWVNaXNzaW5nIiwidHlwZU1pc21hdGNoIiwiZW1haWwiLCJ1cmwiLCJ0b29TaG9ydCIsInRvb0xvbmciLCJwYXR0ZXJuTWlzbWF0Y2giLCJpbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcmV2ZW50RGVmYXVsdCIsIl9jbGFzc1ByaXZhdGVNZXRob2RHZXQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUyIiwiY2FsbCIsImlucHV0RWxlbWVudCIsIl9zZXRFdmVudExpc3RlbmVyczIiLCJfc2hvd0lucHV0RXJyb3IyIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiZXJyb3JUeXBlIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJwdEJyRXJyb3JNZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yMiIsIl9jaGVja0lucHV0VmFsaWRpdHkyIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQyIiwic29tZSIsIlVzZXJJbmZvIiwiX1BvcHVwIiwiX2luaGVyaXRzIiwiX3N1cGVyIiwiX3JlZiIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiX2Fzc2VydFRoaXNJbml0aWFsaXplZCIsIl9uYW1lIiwicGxhY2Vob2xkZXIiLCJfam9iIiwiX29wZW4iLCJyZXNldCIsIl9mb3JtVmFsaWRhdG9yVXNlckluZm8iLCJlbmFibGVWYWxpZGF0aW9uIiwibmV3UHJvZmlsZSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwicHJvZmlsZSIsImNyZWF0ZU5ld1Byb2ZpbGUiLCJfY2xvc2UiLCJfZ2V0VXNlckluZm8iLCJwb3B1cF9fYnV0dG9uIiwiX3NldFVzZXJJbmZvIiwiX2dldEJ1dHRvbnNGb3JGdW5jdGlvbnNVc2VySW5mbyIsIl9oYW5kbGVCdXR0b25zRm9yRnVuY3Rpb25zVXNlckluZm8iLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9zZXRFdmVudExpc3RlbmVyQ2FyZCIsIkNhcmQiLCJwcm90b3R5cGUiLCJzZXRFdmVudExpc3RlbmVyRnJvbVBvcHVwV2l0aEltYWdlIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlSGVhcnRDYXJkTGlrZSIsIl9jYXJkc1NlY3Rpb24iLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9kYXRhIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfY2FyZEVsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltYWdlIiwiX2NhcmRUaXRsZSIsIl9wb3B1cFdpdGhJbWFnZSIsImNhcmRzIiwiX3RoaXMzIiwiY2FyZCIsIl9uZXdDYXJkSW5zdGFuY2UiLCJnZW5lcmF0ZUluc3RhbmNlQ2FyZCIsIl9uZXdDYXJkVG9ET00iLCJfcmVuZGVyQ2FyZHMiLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwiY29udGVudCIsImNsb25lTm9kZSIsInRhcmdldFNlbGVjdG9yIiwiaWNvbkVuYWJsZWRTcmMiLCJpY29uRGlzYWJsZWRTcmMiLCJpY29uRW5hYmxlZEFsdCIsImljb25EaXNhYmxlZEFsdCIsImlzQWN0aXZlIiwiZ2V0QXR0cmlidXRlIiwic3JjIiwiaGFuZGxlTGlrZUZ1bmN0aW9uIiwiZGVsZXRlQnV0dG9uU2VsZWN0b3IiLCJjYXJkRGVsZXRlIiwiaGFuZGxlRGVsZXRlRnVuY3Rpb24iLCJQb3B1cFdpdGhGb3JtIiwibGlua1NlbGVjdG9yIiwiX2Zvcm1WYWxpZGF0b3JQb3B1cFdpdGhGb3JtIiwibmV3Q2FyZCIsImNyZWF0ZU5ld0NhcmQiLCJhZGROZXdDYXJkIiwiYWRkTmV3Q2FyZFRvRE9NIiwiX2dldElucHV0VmFsdWVzIiwiX3NldElucHV0VmFsdWVzIiwiX2dldEJ1dHRvbnNGb3JGdW5jdGlvbnNQb3B1cFdpdGhGb3JtIiwiX2hhbmRsZUJ1dHRvbnNGb3JGdW5jdGlvbnNQb3B1cFdpdGhGb3JtIiwiX2xpbmsiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJwcmVwZW5kIiwidXNlckluZm8iLCJwb3B1cFdpdGhGb3JtIiwicG9wdXBXaXRoSW1hZ2UiLCJjYXJkc1NlY3Rpb24iLCJuZXdDYXJkSW5zdGFuY2UiLCJjYXJkRWxlbWVudCIsImFkZEl0ZW0iLCJhZGRFdmVudHNDYXJkc1RvRE9NIiwic2V0RXZlbnRMaXN0ZW5lcnNVc2VySW5mb1RvRE9NIiwic2V0RXZlbnRMaXN0ZW5lcnNQb3B1cFdpdGhGb3JtVG9ET00iLCJzZXRFdmVudExpc3RlbmVyc1BvcHVwV2l0aEltYWdlVG9ET00iLCJyZW5kZXJJdGVtcyJdLCJzb3VyY2VSb290IjoiIn0=